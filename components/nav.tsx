import React, { useState } from 'react'
import { useSession } from 'next-auth/client'
import Link from 'next/link'

const Nav: React.FC = () => {
  const [session, loading] = useSession()
  const [isOpen, setIsOpen] = useState(false)

  // const links = [
  //   { href: 'https://github.com/tensight', label: 'GitHub' },
  // ]

  // const getLinksJSX = (links) => {
  //   session
  //     ? links.push({ href: '/profile', label: 'Profile' })
  //     : links.push({ href: '/api/auth/signin', label: 'Sign in' })
  //   return links.map(({ href, label }) => (
  //     <li key={`${href}${label}`}>
  //       <Link href={href}>
  //         <a className="btn-purple no-underline">
  //           {label}
  //         </a>
  //       </Link>
  //     </li>
  //   ))
  // }

  return (
    <>
      <div className="relative pt-6 px-4 sm:px-6 lg:px-8">
        <nav className="relative flex items-center justify-between sm:h-10 lg:justify-start" aria-label="Global">
          <div className="flex items-center flex-grow flex-shrink-0 lg:flex-grow-0">
            <div className="flex items-center justify-between w-full md:w-auto">
              <Link href="/">
                <a className="text-gray-800">
                  <span className="sr-only"></span>
                  <svg width="190" viewBox="0 0 2479 487" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M396.542 42.9551H145.619C124.999 42.9551 107.338 57.7182 103.681 78.011L93.0774 136.845H200.373L197.443 152.602H90.147L72.1511 250.025H179.447C157.017 315.974 58.3494 315.974 58.3494 315.974L43.5989 397.438C42.1659 405.351 48.1851 412.518 56.2049 411.916C93.193 409.14 186.055 395.595 211.687 329.506C245.189 412.632 364.621 412.632 364.621 412.632L382.564 314.507C339.97 319.629 269.3 297.406 279.986 250.025H395.924L413.92 152.602H297.981L300.912 136.845H416.851L427.169 79.5941C430.609 60.5056 415.939 42.9551 396.542 42.9551Z" fill="#0A0A0A" />
                    <path d="M557.778 152.279L428.531 152.777L410.71 250.341L556.29 249.78L548.22 291.335L397.871 312.119L379.593 412.185L529.313 392.93L525.149 415.306L496.272 440.665C494.717 442.031 495.683 444.593 497.752 444.593H519.698H591.922C616.745 444.593 638.007 426.823 642.413 402.394L643.584 395.9C645.62 384.612 654.724 375.936 666.098 374.447L694.182 370.77C702.756 369.648 709.625 363.117 711.179 354.61L727.027 267.848L665.174 276.187L669.712 249.78H730.327L745.792 165.114C747.018 158.4 741.861 152.216 735.036 152.216H706.263C696.557 152.216 689.262 143.359 691.123 133.832C692.16 128.523 688.095 123.586 682.685 123.586H587.248C582.637 123.586 578.687 126.886 577.867 131.424L577.015 136.143C575.332 145.456 567.242 152.242 557.778 152.279Z" fill="#0A0A0A" />
                    <path d="M292.254 429.056L296.346 415.649H296.346L292.254 429.056ZM211.075 380.727L221.415 371.262L211.361 360.278L201.003 370.977L211.075 380.727ZM121.171 429.317L124.808 442.855H124.808L121.171 429.317ZM65.4132 439.24L66.7559 453.194H66.7559L65.4132 439.24ZM668.933 411.751L655.138 409.263L668.933 411.751ZM676.567 401.314L678.387 415.213L676.567 401.314ZM669.622 407.933L683.417 410.421L669.622 407.933ZM15.2791 396.221L1.49835 393.654L15.2791 396.221ZM464.565 429.721L462.721 415.824L464.565 429.721ZM737.34 365.881L723.55 363.362L737.34 365.881ZM703.824 397.746L702.004 383.846L703.824 397.746ZM775.749 155.599L761.96 153.08L775.749 155.599ZM448.532 117.243L462.326 119.741L448.532 117.243ZM539.496 110.162H454.325V138.198H539.496V110.162ZM200.735 390.191C226.868 418.741 260.783 434.108 288.162 442.463L296.346 415.649C271.549 408.081 242.883 394.715 221.415 371.262L200.735 390.191ZM124.808 442.855C154.444 434.894 192.702 419.861 221.147 390.476L201.003 370.977C177.687 395.064 145.121 408.369 117.534 415.779L124.808 442.855ZM66.7559 453.194C81.822 451.744 102.582 448.826 124.808 442.855L117.534 415.779C97.232 421.233 78.0905 423.938 64.0705 425.287L66.7559 453.194ZM462.326 119.741L469.849 78.1941L442.262 73.1989L434.739 114.746L462.326 119.741ZM705.714 81.532H573.762V109.568H705.714V81.532ZM749.549 110.162H729.293V138.198H749.549V110.162ZM751.13 368.399L789.539 158.118L761.96 153.08L723.55 363.362L751.13 368.399ZM678.387 415.213L705.644 411.645L702.004 383.846L674.748 387.415L678.387 415.213ZM682.728 414.239L683.417 410.421L655.826 405.445L655.138 409.263L682.728 414.239ZM480.799 486.646H596.094V458.611H480.799V486.646ZM405.295 0.902125H141.514V28.9377H405.295V0.902125ZM62.4126 66.6301L1.49835 393.654L29.0599 398.788L89.9742 71.764L62.4126 66.6301ZM52.8975 454.188C57.4847 453.96 62.1069 453.641 66.7559 453.194L64.0705 425.287C59.9169 425.686 55.7327 425.977 51.5097 426.186L52.8975 454.188ZM288.162 442.463C349.324 461.13 409.102 451.217 466.408 443.617L462.721 415.824C403.63 423.662 350.505 432.178 296.346 415.649L288.162 442.463ZM141.514 0.902125C102.759 0.902125 69.5095 28.5298 62.4126 66.6301L89.9742 71.764C94.5983 46.939 116.262 28.9377 141.514 28.9377V0.902125ZM655.138 409.263C649.986 437.83 625.122 458.611 596.094 458.611V486.646C638.686 486.646 675.169 456.154 682.728 414.239L655.138 409.263ZM674.748 387.415C665.189 388.667 657.537 395.957 655.826 405.445L683.417 410.421C682.962 412.943 680.928 414.881 678.387 415.213L674.748 387.415ZM1.49835 393.654C-4.31792 424.879 19.5994 455.838 52.8975 454.188L51.5097 426.186C37.8566 426.863 26.2679 413.776 29.0599 398.788L1.49835 393.654ZM455.715 420.068C429.366 443.207 445.732 486.646 480.799 486.646V458.611C471.594 458.611 467.298 447.208 474.215 441.133L455.715 420.068ZM474.215 441.133C485.053 431.615 476.899 413.944 462.721 415.824L466.408 443.617C453.22 445.366 445.627 428.927 455.715 420.068L474.215 441.133ZM723.55 363.362C721.581 374.145 712.874 382.423 702.004 383.846L705.644 411.645C728.59 408.641 746.971 391.165 751.13 368.399L723.55 363.362ZM736.585 119.017C740.38 99.5922 725.506 81.532 705.714 81.532V109.568C707.865 109.568 709.482 111.531 709.07 113.642L736.585 119.017ZM749.549 138.198C757.424 138.198 763.375 145.333 761.96 153.08L789.539 158.118C794.099 133.155 774.925 110.162 749.549 110.162V138.198ZM709.07 113.642C706.584 126.367 716.328 138.198 729.293 138.198V110.162C733.968 110.162 737.482 114.428 736.585 119.017L709.07 113.642ZM566.14 115.935C566.806 112.249 570.015 109.568 573.762 109.568V81.532C556.454 81.532 541.628 93.9199 538.551 110.952L566.14 115.935ZM454.325 110.162C459.396 110.162 463.229 114.752 462.326 119.741L434.739 114.746C432.527 126.96 441.912 138.198 454.325 138.198V110.162ZM469.849 78.1941C477.138 37.9378 446.206 0.902125 405.295 0.902125V28.9377C428.723 28.9377 446.436 50.1462 442.262 73.1989L469.849 78.1941ZM539.496 138.198C552.593 138.198 563.812 128.823 566.14 115.935L538.551 110.952C538.634 110.494 539.032 110.162 539.496 110.162V138.198Z" fill="#0A0A0A" />
                    <path d="M903.435 83.6117L913.453 26.5067H1083.97L1073.96 83.6117H1022.8L978.351 336.985H910.143L954.592 83.6117H903.435ZM1138.64 281.32H1214.16L1204.39 336.985H1060.67L1115.13 26.5067H1258.86L1249.26 81.2123H1173.74L1160.95 154.153H1231.59L1222.33 206.939H1151.69L1138.64 281.32ZM1424.59 336.985H1356.39L1401.59 79.2928C1402.04 76.7335 1401.46 74.4941 1399.85 72.5746C1398.56 70.6551 1396.62 69.6953 1394.02 69.6953H1367.71C1365.11 69.6953 1362.67 70.6551 1360.38 72.5746C1358.42 74.4941 1357.22 76.7335 1356.77 79.2928L1311.56 336.985H1243.35L1287.55 85.0513C1294.96 42.8224 1318.8 21.708 1359.08 21.708H1419.49C1459.76 21.708 1476.2 42.8224 1468.79 85.0513L1424.59 336.985ZM1685.38 108.085H1620.58L1624.87 83.6117C1625.32 81.0524 1624.74 78.8129 1623.13 76.8934C1621.84 74.9739 1619.9 74.0142 1617.3 74.0142H1590.5C1587.9 74.0142 1585.46 74.9739 1583.18 76.8934C1581.21 78.8129 1580.01 81.0524 1579.56 83.6117L1569.88 138.797C1569.43 141.356 1569.85 143.596 1571.14 145.515C1572.75 147.435 1574.85 148.395 1577.45 148.395H1621.3C1661.46 149.034 1677.9 170.149 1670.6 211.738L1658.9 278.44C1651.49 320.669 1627.65 341.784 1587.38 341.784H1529.89C1489.61 341.784 1473.18 320.669 1480.58 278.44L1486.23 246.289H1551.02L1544.96 280.84C1544.51 283.399 1544.93 285.638 1546.22 287.558C1547.83 289.477 1549.94 290.437 1552.53 290.437H1582.74C1585.34 290.437 1587.62 289.477 1589.58 287.558C1591.87 285.638 1593.23 283.399 1593.68 280.84L1604.37 219.896C1604.82 217.336 1604.24 215.097 1602.63 213.178C1601.34 211.258 1599.4 210.298 1596.8 210.298H1552.95C1512.68 210.298 1496.24 189.184 1503.65 146.955L1514.51 85.0513C1521.92 42.8224 1545.76 21.708 1586.04 21.708H1640.12C1680.39 21.708 1696.82 42.8224 1689.42 85.0513L1685.38 108.085ZM1816.13 26.5067L1761.66 336.985H1693.46L1747.92 26.5067H1816.13ZM1926.12 213.657L1934.79 164.23H2024.92L2004.89 278.44C1997.48 320.669 1973.64 341.784 1933.36 341.784H1871.97C1831.7 341.784 1815.26 320.669 1822.67 278.44L1856.6 85.0513C1864.01 42.8224 1887.85 21.708 1928.12 21.708H1989.51C2029.79 21.708 2046.22 42.8224 2038.81 85.0513L2033.68 114.324H1968.88L1975.45 76.8934C1975.89 74.3341 1975.31 72.0947 1973.7 70.1752C1972.41 68.2557 1970.47 67.296 1967.87 67.296H1937.18C1934.58 67.296 1932.14 68.2557 1929.85 70.1752C1927.89 72.0947 1926.69 74.3341 1926.24 76.8934L1889.53 286.118C1889.08 288.678 1889.5 290.917 1890.79 292.837C1892.4 294.756 1894.51 295.716 1897.11 295.716H1927.8C1930.4 295.716 1932.68 294.756 1934.64 292.837C1936.93 290.917 1938.29 288.678 1938.74 286.118L1951.45 213.657H1926.12ZM2121.8 215.097L2100.42 336.985H2032.21L2086.68 26.5067H2154.89L2132.07 156.552H2186.15L2208.97 26.5067H2277.18L2222.71 336.985H2154.5L2175.88 215.097H2121.8ZM2297.95 83.6117L2307.97 26.5067H2478.49L2468.48 83.6117H2417.32L2372.87 336.985H2304.66L2349.11 83.6117H2297.95Z" fill="#0A0A0A" />
                    <path d="M935.504 422.796H918.537L919.661 416.388C919.779 415.718 919.627 415.131 919.205 414.629C918.868 414.126 918.359 413.875 917.678 413.875H910.662C909.982 413.875 909.343 414.126 908.744 414.629C908.231 415.131 907.915 415.718 907.798 416.388L905.263 430.837C905.145 431.507 905.255 432.094 905.592 432.596C906.014 433.099 906.565 433.35 907.246 433.35H918.727C929.243 433.518 933.546 439.046 931.636 449.936L928.572 467.401C926.632 478.458 920.389 483.987 909.844 483.987H894.791C884.245 483.987 879.942 478.458 881.882 467.401L883.359 458.983H900.325L898.738 468.029C898.621 468.699 898.73 469.286 899.068 469.788C899.49 470.291 900.041 470.542 900.721 470.542H908.63C909.311 470.542 909.908 470.291 910.421 469.788C911.019 469.286 911.377 468.699 911.495 468.029L914.294 452.072C914.412 451.402 914.26 450.815 913.838 450.313C913.501 449.81 912.992 449.559 912.311 449.559H900.83C890.285 449.559 885.982 444.03 887.922 432.973L890.765 416.765C892.705 405.708 898.947 400.179 909.493 400.179H923.653C934.199 400.179 938.501 405.708 936.562 416.765L935.504 422.796ZM984.028 401.436C994.574 401.436 998.877 406.964 996.937 418.021L994.093 434.23C992.154 445.287 985.911 450.815 975.365 450.815H960.95L955.352 482.73H937.492L951.754 401.436H984.028ZM975.881 436.24L979.43 416.011C979.548 415.341 979.395 414.754 978.973 414.252C978.636 413.749 978.128 413.498 977.447 413.498H967.497L963.066 438.753H973.017C973.697 438.753 974.294 438.502 974.807 437.999C975.406 437.497 975.764 436.91 975.881 436.24ZM1054.73 416.765L1045.84 467.401C1043.9 478.458 1037.66 483.987 1027.12 483.987H1010.15C999.604 483.987 995.301 478.458 997.241 467.401L1006.12 416.765C1008.06 405.708 1014.31 400.179 1024.85 400.179H1041.82C1052.36 400.179 1056.67 405.708 1054.73 416.765ZM1027.63 469.411L1037.24 414.629C1037.36 413.959 1037.21 413.372 1036.79 412.87C1036.45 412.367 1035.94 412.116 1035.26 412.116H1027.22C1026.54 412.116 1025.9 412.367 1025.3 412.87C1024.79 413.372 1024.48 413.959 1024.36 414.629L1014.75 469.411C1014.63 470.082 1014.74 470.668 1015.08 471.171C1015.5 471.673 1016.05 471.924 1016.73 471.924H1024.77C1025.45 471.924 1026.04 471.673 1026.56 471.171C1027.16 470.668 1027.51 470.082 1027.63 469.411ZM1080.04 449.433L1074.2 482.73H1056.34L1070.6 401.436H1102.37C1112.91 401.436 1117.22 406.964 1115.28 418.021L1113.62 427.445C1112.45 434.146 1109.27 438.418 1104.1 440.261C1108.09 441.769 1109.62 445.203 1108.67 450.564L1103.03 482.73H1085.17L1090.57 451.946C1090.87 450.271 1090.21 449.433 1088.59 449.433H1080.04ZM1086.37 413.372L1082.2 437.12H1091.64C1092.32 437.12 1092.92 436.868 1093.43 436.366C1094.03 435.863 1094.39 435.277 1094.51 434.607L1097.79 415.885C1097.91 415.215 1097.76 414.629 1097.33 414.126C1097 413.623 1096.49 413.372 1095.81 413.372H1086.37ZM1122.31 416.388L1124.93 401.436H1169.58L1166.96 416.388H1153.56L1141.93 482.73H1124.07L1135.7 416.388H1122.31ZM1219.79 422.796H1202.82L1203.95 416.388C1204.06 415.718 1203.91 415.131 1203.49 414.629C1203.15 414.126 1202.64 413.875 1201.96 413.875H1194.95C1194.27 413.875 1193.63 414.126 1193.03 414.629C1192.52 415.131 1192.2 415.718 1192.08 416.388L1189.55 430.837C1189.43 431.507 1189.54 432.094 1189.88 432.596C1190.3 433.099 1190.85 433.35 1191.53 433.35H1203.01C1213.53 433.518 1217.83 439.046 1215.92 449.936L1212.86 467.401C1210.92 478.458 1204.68 483.987 1194.13 483.987H1179.08C1168.53 483.987 1164.23 478.458 1166.17 467.401L1167.64 458.983H1184.61L1183.02 468.029C1182.91 468.699 1183.02 469.286 1183.35 469.788C1183.78 470.291 1184.33 470.542 1185.01 470.542H1192.92C1193.6 470.542 1194.19 470.291 1194.71 469.788C1195.31 469.286 1195.66 468.699 1195.78 468.029L1198.58 452.072C1198.7 451.402 1198.55 450.815 1198.12 450.313C1197.79 449.81 1197.28 449.559 1196.6 449.559H1185.12C1174.57 449.559 1170.27 444.03 1172.21 432.973L1175.05 416.765C1176.99 405.708 1183.23 400.179 1193.78 400.179H1207.94C1218.48 400.179 1222.79 405.708 1220.85 416.765L1219.79 422.796ZM1305.57 437.12L1303.37 449.685H1286.02L1282.43 470.165H1268.01L1271.6 449.685H1254.26L1256.46 437.12H1273.81L1277.38 416.765H1291.8L1288.22 437.12H1305.57ZM1369.72 469.411L1371.93 456.847H1388.89L1387.04 467.401C1385.1 478.458 1378.86 483.987 1368.31 483.987H1352.24C1341.69 483.987 1337.39 478.458 1339.33 467.401L1348.21 416.765C1350.15 405.708 1356.4 400.179 1366.94 400.179H1383.02C1393.56 400.179 1397.86 405.708 1395.92 416.765L1394.58 424.429H1377.61L1379.33 414.629C1379.45 413.959 1379.3 413.372 1378.88 412.87C1378.54 412.367 1378.03 412.116 1377.35 412.116H1369.31C1368.63 412.116 1367.99 412.367 1367.39 412.87C1366.88 413.372 1366.57 413.959 1366.45 414.629L1356.84 469.411C1356.72 470.082 1356.83 470.668 1357.17 471.171C1357.59 471.673 1358.14 471.924 1358.82 471.924H1366.86C1367.54 471.924 1368.13 471.673 1368.65 471.171C1369.25 470.668 1369.6 470.082 1369.72 469.411ZM1438.8 401.436H1456.66L1445.09 467.401C1443.15 478.458 1436.9 483.987 1426.36 483.987H1410.54C1399.99 483.987 1395.69 478.458 1397.63 467.401L1409.2 401.436H1427.06L1415.22 468.909C1415.11 469.579 1415.22 470.165 1415.55 470.668C1415.98 471.171 1416.53 471.422 1417.21 471.422H1424.1C1424.78 471.422 1425.37 471.171 1425.89 470.668C1426.49 470.165 1426.84 469.579 1426.96 468.909L1438.8 401.436ZM1475.08 467.904H1494.59L1491.99 482.73H1454.62L1468.88 401.436H1486.74L1475.08 467.904ZM1507.38 416.388L1510 401.436H1554.65L1552.03 416.388H1538.63L1527 482.73H1509.14L1520.77 416.388H1507.38ZM1592.28 401.436H1610.14L1598.56 467.401C1596.62 478.458 1590.38 483.987 1579.84 483.987H1564.02C1553.47 483.987 1549.17 478.458 1551.11 467.401L1562.68 401.436H1580.54L1568.7 468.909C1568.59 469.579 1568.7 470.165 1569.03 470.668C1569.46 471.171 1570.01 471.422 1570.69 471.422H1577.58C1578.26 471.422 1578.85 471.171 1579.37 470.668C1579.97 470.165 1580.32 469.579 1580.44 468.909L1592.28 401.436ZM1631.8 449.433L1625.96 482.73H1608.1L1622.36 401.436H1654.12C1664.67 401.436 1668.97 406.964 1667.03 418.021L1665.38 427.445C1664.2 434.146 1661.03 438.418 1655.86 440.261C1659.85 441.769 1661.37 445.203 1660.43 450.564L1654.79 482.73H1636.93L1642.33 451.946C1642.62 450.271 1641.96 449.433 1640.34 449.433H1631.8ZM1638.12 413.372L1633.96 437.12H1643.4C1644.08 437.12 1644.67 436.868 1645.19 436.366C1645.79 435.863 1646.14 435.277 1646.26 434.607L1649.55 415.885C1649.66 415.215 1649.51 414.629 1649.09 414.126C1648.75 413.623 1648.24 413.372 1647.56 413.372H1638.12ZM1687.56 468.155H1707.34L1704.78 482.73H1667.15L1681.41 401.436H1719.04L1716.53 415.76H1696.75L1693.4 434.858H1711.9L1709.48 448.679H1690.98L1687.56 468.155Z" fill="#0A0A0A" />
                  </svg>
                </a>
              </Link>
              <div className="-mr-2 flex items-center md:hidden">
                <button type="button"
                  className="bg-none rounded-md p-2 inline-flex items-center justify-center text-gray-700 hover:text-gray-80 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
                  aria-expanded="false"
                  onClick={() => setIsOpen(true)}
                >
                  <span className="sr-only">Open main menu</span>
                  <svg className="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <div className="hidden md:block md:ml-10 md:pr-4 md:space-x-8">
            <Link href="#">
              <a className="font-medium text-gray-500 hover:text-gray-900">Product</a>
            </Link>
            <Link href="#">
              <a className="font-medium text-gray-500 hover:text-gray-900">Features</a>
            </Link>
            <Link href={`${session ? '/profile' : '/api/auth/signin'}`}>
              <a className="font-medium text-indigo-600 hover:text-indigo-500">{`${session ? 'Profile' : 'Sign in'}`}</a>
            </Link>
          </div>
        </nav>
      </div>

      {/*
        Show/hide the element based on isOpen
      */}
      <div className={`${isOpen ? 'show' : 'hidden'} absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden`}>
        <div className="rounded-lg shadow-md bg-white ring-1 ring-black ring-opacity-5 overflow-hidden">
          <div className="px-5 pt-4 flex items-center justify-between">
            <div>
              <img className="h-8 w-auto" src="./tensight.svg" alt="Tensight Logo" />
            </div>
              <div className="-mr-2">
                <button 
                  type="button"
                  className="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
                  onClick={() => setIsOpen(false)}
                >
                  <span className="sr-only">Close main menu</span>
                  <svg className="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                </button>
              </div>
            </div>
            <div className="px-2 pt-2 pb-3 space-y-1">
              <Link href="#">
                <a className="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50">Product</a>
              </Link>
              <Link href="#">
                <a className="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50">Features</a>
              </Link>
            </div>
            <Link href={`${session ? './profile' : '/api/auth/signin'}`}>
              <a className="block w-full px-5 py-3 text-center font-medium text-indigo-600 bg-gray-50 hover:bg-gray-100">
                {`${session ? 'Profile' : 'Sign in'}`}
              </a>
            </Link>
          </div>
        </div>
      </>
  )
}

export default Nav